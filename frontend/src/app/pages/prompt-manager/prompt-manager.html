<div class="manager-container">
  <h2>Prompt Management</h2>
  <p>Select a prompt to view and edit its content. Changes are saved directly to Firestore.</p>

  <div *ngIf="isLoadingList">
    <p>Loading available prompts...</p>
  </div>

  <div *ngIf="!isLoadingList">
    <!-- Prompt Selection Dropdown -->
    <div class="form-group">
      <label for="prompt-select">Select a Prompt to Edit</label>
      <select id="prompt-select" [(ngModel)]="selectedPromptId" (change)="onPromptSelected()">
        <option *ngFor="let prompt of prompts" [value]="prompt.id">
          {{ prompt.name || prompt.id }}
        </option>
      </select>
    </div>

    <!-- Prompt Editor Textarea -->
    <div class="form-group">
      <label for="prompt-text">Prompt Content</label>
      <div *ngIf="isLoadingPrompt" class="loading-prompt">Loading content...</div>
      <textarea 
        *ngIf="!isLoadingPrompt" 
        id="prompt-text" 
        class="prompt-editor" 
        [(ngModel)]="editablePromptText"
        placeholder="Select a prompt to see its content.">
      </textarea>
    </div>

    <!-- Action Bar -->
    <div class="actions">
      <button (click)="savePrompt()" [disabled]="isPristine() || isSaving">
        {{ isSaving ? 'Saving...' : 'Save Changes' }}
      </button>
      <span class="status-message">{{ statusMessage }}</span>
    </div>
  </div>
</div>