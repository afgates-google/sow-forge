<div class="upload-container">
  <h2>Create a New Statement of Work</h2>
  
  <!-- Staging Area Input -->
  <div class="project-name-input">
    <label for="projectName">SOW Project Name:</label>
    <input type="text" id="projectName" [(ngModel)]="projectName" placeholder="e.g., Q1 Security Upgrades">
  </div>

  <!-- File Drop Zone -->
  <div class="drop-zone" 
       (dragover)="onDragOver($event)" 
       (dragleave)="onDragLeave($event)" 
       (drop)="onDrop($event)">
    <p>Drag & Drop Your Source Files Here (PDF, TXT, MD)</p>
    <p>or</p>
    <input type="file" (change)="onFileSelected($event)" multiple hidden #fileInput>
    <button (click)="fileInput.click()">Select Files</button>
  </div>

  <!-- Staged Files List -->
  <div class="staged-files" *ngIf="stagedFiles.length > 0">
    <h3>Staged Documents</h3>
    <table>
      <thead>
        <tr>
          <th>Filename</th>
          <th>Category</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of stagedFiles; let i = index">
          <td>{{ item.file.name }}</td>
          <td>
            <select [(ngModel)]="item.category">
              <option *ngFor="let cat of documentCategories" [value]="cat">{{ cat }}</option>
            </select>
          </td>
          <td>
            <span [ngClass]="item.status.toLowerCase().replace('_', '-')">{{ item.status }}</span>
          </td>
          <td>
            <button class="remove-btn" (click)="removeStagedFile(i)">Remove</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  
  <!-- Main Action Button -->
  <div class="actions">
    <button class="create-btn" 
            (click)="createSowProject()" 
            [disabled]="stagedFiles.length === 0 || !projectName || isCreating">
      {{ isCreating ? 'Creating Project...' : 'Create SOW Project' }}
    </button>
  </div>
</div>